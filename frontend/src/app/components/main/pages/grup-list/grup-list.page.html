<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
      Grup List
    </ion-title>
    <ion-buttons slot="end">
      <ion-label>{{toolbarService.getUserName()}}</ion-label>
      <ion-button color="primary" (click)="toolbarService.profile()">
        <ion-icon slot="icon-only" name="contact"></ion-icon>
      </ion-button>
      <ion-button color="primary" (click)="toolbarService.chat()">
          <ion-icon slot="icon-only" name="chatboxes"></ion-icon>
        CHAT
      </ion-button>
      <ion-button color="primary" (click)="toolbarService.logOut()">
        Log Out
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="limiter">
    <div class="container-login100">
      <div class="wrap-login100 p-l-20 p-r-20 p-t-20 p-b-20">
        <br><br>
          <span class="login100-form-title">
            Lista de Grupos de JamApp
          </span>
        <br><br>
        <ion-list-header *ngIf="groups">
          <ion-label>Nombre del grupo</ion-label>
          <ion-label>Email</ion-label>
          <ion-label>Descripci√≥n</ion-label>
          <ion-label>Unirse</ion-label>
        </ion-list-header>
        <ion-list *ngFor="let group of groups">
          <ion-item>
            <ion-label>{{group.name}}</ion-label>
            <ion-label>{{group.email}}</ion-label>
            <ion-label>{{group.description}}</ion-label>
            <ion-button class="list-buttons" color="primary" (click)="requestMembership(group)" *ngIf="userType=='Musician'">
              <ion-icon slot="icon-only" name="add-circle"></ion-icon>
            </ion-button>
          </ion-item>
        </ion-list>
        <br><br>
        <div class="container-login100-form-btn">
          <div class="wrap-login100-form-btn">
            <div class="login100-form-bgbtn"></div>
            <ion-button color="primary" (click)="createGroup()" expand="block">Crear un grupo</ion-button>
          </div>
        </div>
        <br><br>

        <span *ngIf="requests" class="login100-form-title">
            Solicitudes a mis grupos
        </span>
        <div *ngFor="let request of requests">
            <ion-card style="display: inline-block;" *ngFor="let solicitud of request.solicituds">
              <ion-card-header>
                <ion-card-title style="margin: 5px">Grupo: {{request.name}}</ion-card-title>
                <ion-card-subtitle style="margin: 5px">Solicitante: {{solicitud.username}}</ion-card-subtitle>
              </ion-card-header>
              <div >
                  <ion-card-content style="margin: 5px">
                      {{solicitud.missatge}}
                  </ion-card-content>
              </div>
              <ion-button style="margin: 5px" color="medium" size="small" (click)="acceptRequest(request,solicitud)" strong="true">Aceptar</ion-button>
              <ion-button style="margin: 5px" color="medium" size="small" (click)="denyRequest(request,solicitud)">Rechazar</ion-button>
              <ion-button style="margin: 5px" color="medium" size="small" (click)="chat(solicitud.username)">Chat</ion-button>
            </ion-card>
          </div>
      </div>
    </div>
  </div> 
  
  
  

  <div id="dropDownSelect1"></div>

<!--===============================================================================================-->
<script src="vendor/jquery/jquery-3.2.1.min.js"></script>
<!--===============================================================================================-->
<script src="vendor/animsition/js/animsition.min.js"></script>
<!--===============================================================================================-->
<script src="vendor/bootstrap/js/popper.js"></script>
<script src="vendor/bootstrap/js/bootstrap.min.js"></script>
<!--===============================================================================================-->
<script src="vendor/select2/select2.min.js"></script>
<!--===============================================================================================-->
<script src="vendor/daterangepicker/moment.min.js"></script>
<script src="vendor/daterangepicker/daterangepicker.js"></script>
<!--===============================================================================================-->
<script src="vendor/countdowntime/countdowntime.js"></script>
<!--===============================================================================================-->
</ion-content>
